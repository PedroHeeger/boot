Projeto T√©cnico: Mapeamento de Rede Corporativa ‚Äì Lab Docker
Instru√ß√µes para o Projeto T√©cnico ‚Äì Lab de Rede Segmentada
Roteiro de An√°lise ‚Äì Mapeamento de Rede
Exemplo de Documenta√ß√£o de Redes Descobertas (Invent√°rio T√©cnico?)
Modelo de Relat√≥rio T√©cnico ‚Äì Lab Segmenta√ß√£o de Rede



- QUESTIONAMENTOS:
1. Aus√™ncia de segmenta√ß√£o l√≥gica? 
- Isso √© meio dif√≠cil de analisar dentro do container Analyst j√° que ele tem acesso as tr√™s redes ne? Para ele, realmente n√£o vai ter segmenta√ß√£o l√≥gica, pois ele tem acesso a tudo.
2. Houve uma confus√£o, pois no documento principal do projeto (Projeto T√©cnico), a sub-rede guest_net era 10.10.30.0/24 e a infra_net 10.10.50.0/24, uma invers√£o. Apesar de na descri√ß√£o mencionar que a guest era para Rede de visitantes e dispositivos pessoais e a infra era para Rede de infraestrutura cr√≠tica (servidores). Acabei seguindo essa invers√£o do documento e ficou alterado. Inclusive no documento dos c√≥digos que voc√™ utilizou pela √∫ltima vez (https://gist.githubusercontent.com/jcarlos78/8111a9f0d7466f0d76217fa617827e27/raw/70f453a430af0284dc7641af7da5ac3b256cf244/), tem um momento que trata a 30.0 como guest_net e a 50.0 como infra_net, o que √© o errado. Depois, nesse mesmo docuemnto, quando os arquivos s√£o salvados, tudo que √© salvo da 30.0 vai para infra e 50.0 para guest. Depois, conferindo no arquivo YAML do Docker Compose, pude verificar que a 30.0 era realmente a infra e que a 50.0 era a guest. Esse era o documento mais fiel, j√° que ele constr√≥i o ambiente. Mas infelizmente, acabei seguindo pelo docuemnto principal do projeto que estava trocado, e acabei trocando tudo. Dessa forma, todos os prints e outputs de comandos foram salvos com essa invers√£o e se eu fosse alterar tudo n√£o ia dar tempo. Teria problema deixar assim?




Projeto T√©cnico: Mapeamento de Rede Corporativa ‚Äì Lab Docker
Objetivos:
Identificar todas as m√°quinas acess√≠veis.    -> identifica√ß√£o dos hosts ativos em cada sub-rede
Determinar as sub-redes existentes e seus prop√≥sitos.       -> detec√ß√£o das sub-redes existentes e avalia√ß√£o da segmenta√ß√£o entre elas
Criar um invent√°rio t√©cnico com IPs, nomes e sistemas detectados.  -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Elaborar um relat√≥rio com diagn√≥stico, recomenda√ß√µes e plano de a√ß√£o 80/20.  -> Relat√≥rio



Instru√ß√µes para o Projeto T√©cnico ‚Äì Lab de Rede Segmentada
Tarefas
Levantar informa√ß√µes usando ferramentas como:
nmap
rustscan
netdiscover
arp-scan
whois, dig, traceroute

Descobrir:
Quantos hosts existem?         -> identifica√ß√£o dos hosts ativos em cada sub-rede
Quais servi√ßos est√£o expostos?  -> avalia√ß√£o da exposi√ß√£o desses servi√ßos
Quais portas est√£o abertas?     -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Existem informa√ß√µes que indicam riscos?  -> avalia√ß√£o da exposi√ß√£o desses servi√ßos

Criar:
Invent√°rio t√©cnico da rede                -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Diagrama de topologia                              -> Diagrama
Relat√≥rio t√©cnico com diagn√≥stico e recomenda√ß√µes  -> Relat√≥rio


Tarefa Obrigat√≥ria: Documentar as Redes
Voc√™ dever√° mapear e documentar as redes simuladas do ambiente.

Inclua no seu relat√≥rio:
Quais sub-redes foram identificadas             -> detec√ß√£o das sub-redes existentes e avalia√ß√£o da segmenta√ß√£o entre elas 
Endere√ßamento IP de cada host descoberto        -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Quais dispositivos pertencem a cada rede        -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Fun√ß√£o de cada dispositivo                      -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Poss√≠veis riscos de comunica√ß√£o entre redes     -> detec√ß√£o das sub-redes existentes e avalia√ß√£o da segmenta√ß√£o entre elas




Roteiro de An√°lise ‚Äì Mapeamento de Rede
Reconhecimento Inicial
Use netdiscover ou arp-scan para mapear hosts ativos     -> identifica√ß√£o dos hosts ativos em cada sub-rede
Identifique o range de IPs e sub-redes                   -> detec√ß√£o das sub-redes existentes e avalia√ß√£o da segmenta√ß√£o entre elas

Varredura Detalhada
Utilize nmap ou rustscan para identificar servi√ßos por host  -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host
Anote portas abertas e banners                               -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host

Identifica√ß√£o de Ativos
Categorize os hosts por fun√ß√£o (ex: web, fileserver, esta√ß√£o, etc.)  -> mapeamento dos endere√ßos IP atribu√≠dos, descoberta das portas abertas e dos servi√ßos ativos em cada host

Avalia√ß√£o de Riscos
Servi√ßos desnecess√°rios?                           -> avalia√ß√£o da exposi√ß√£o desses servi√ßos
Portas abertas sem autentica√ß√£o?                   -> avalia√ß√£o da exposi√ß√£o desses servi√ßos
Aus√™ncia de segmenta√ß√£o l√≥gica?                    -> detec√ß√£o das sub-redes existentes e avalia√ß√£o da segmenta√ß√£o entre elas

Produ√ß√£o de Relat√≥rio
Diagrama da rede                              -> Diagrama
Achados + recomenda√ß√µes                       -> Relat√≥rio
Plano de a√ß√£o baseado em impacto e facilidade -> Plano de A√ß√£o





Destrinchando o objetivo:
An√°lise t√©cnica da rede corporativa segmentada, com foco em:
- Detectar as sub-redes existentes: Identificar quais e quantas sub-redes est√£o presentes na rede interna.
- Avaliar a segmenta√ß√£o entre elas: Verificar a efetividade do isolamento entre as sub-redes e poss√≠veis comunica√ß√µes indevidas.
- Identificar os hosts ativos em cada sub-rede: Verificar quantos e quais hosts est√£o ativos em cada sub-rede.
- Mapear os endere√ßos IP atribu√≠dos: Associar corretamente cada IP ao seu respectivo host.
- Descobrir as portas abertas: Verificar quais hosts possuem portas abertas e quais s√£o essas portas.
- Identificar os servi√ßos ativos em cada host: Determinar quais e quantos servi√ßos est√£o sendo executados em cada host.
- Avaliar a exposi√ß√£o dos servi√ßos identificados: Analisar aspectos como acesso an√¥nimo permitido, possibilidade de captura de informa√ß√µes sens√≠veis e aus√™ncia de mecanismos de seguran√ßa como SSL/TLS.



üìã Sequ√™ncia da an√°lise (em t√≥picos, arrumado e sucinto):
- Identifica√ß√£o das interfaces e sub-redes conectadas
    - Verifica√ß√£o das interfaces da m√°quina analisadora.
    - Detec√ß√£o das sub-redes acess√≠veis (3 no total).
- Descoberta de hosts ativos em cada sub-rede
    - Coleta de IPs ativos por meio de varreduras ARP, ping e etc.
- Identifica√ß√£o de servi√ßos expostos
    - Varredura de portas com ferramentas como nmap e rustscan.
- Enumera√ß√£o de servi√ßos espec√≠ficos
    - Inspe√ß√£o detalhada dos servi√ßos detectados nas portas abertas.
- Coleta de informa√ß√µes adicionais (banners, protocolos, falhas).
    - Avalia√ß√£o de riscos e exposi√ß√£o
    - An√°lise de seguran√ßa com base nas descobertas.
- Verifica√ß√£o de criptografia, acessos indevidos, interfaces expostas e falhas na segmenta√ß√£o.
    - Invent√°rio e classifica√ß√£o dos ativos de rede
    - Organiza√ß√£o dos dados obtidos em tabelas t√©cnicas, agrupadas por fun√ß√£o e sub-rede.